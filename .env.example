# ============================================================================
# CloudClash Environment Configuration Template
# ============================================================================
# Copy this file to .env and fill in your actual values.
# DO NOT commit .env to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# Supabase PostgreSQL connection string
# Get from: Supabase Dashboard → Settings → Database → Connection String
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require
DATABASE_URL="postgresql://postgres:YOUR_PASSWORD@YOUR_HOST.supabase.com:5432/postgres?sslmode=require"

# ----------------------------------------------------------------------------
# Authentication & Security
# ----------------------------------------------------------------------------
# JWT secret key for token signing (KEEP THIS SECRET!)
# Generate a new one with: openssl rand -base64 32
# Or use: https://generate-secret.vercel.app/32
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"

# Cloudflare Turnstile (Bot Protection)
# Get your keys from: https://dash.cloudflare.com/
# Create a new site → Turnstile → Get Site Key and Secret Key
# Site Key: Public key for frontend widget (safe to expose)
TURNSTILE_SITE_KEY="your-turnstile-site-key-here"
# Secret Key: Private key for backend verification (KEEP THIS SECRET!)
TURNSTILE_SECRET_KEY="your-turnstile-secret-key-here"

# ----------------------------------------------------------------------------
# External APIs
# ----------------------------------------------------------------------------
# TMDB (The Movie Database) - For movie/TV metadata
# Get your API key from: https://www.themoviedb.org/settings/api
# Sign up → Settings → API → Create → Choose "Developer" → Accept terms
VITE_TMDB_READ_API_KEY="your-tmdb-read-api-key-here"

# Stream-Guard-API Configuration (KEEP API KEY SECRET!)
# The "VidNinja" client in code refers to your Stream-Guard-API backend
# Deploy Stream-Guard-API and set these values to match your deployment
VITE_VIDNINJA_API_URL="https://api.vidninja.pro"
VITE_VIDNINJA_API_KEY="your-stream-guard-api-key-here"

# ----------------------------------------------------------------------------
# Backend Services
# ----------------------------------------------------------------------------
# Backend API URL (no trailing slash)
# For local development, use your local backend URL
# For production, use your deployed backend URL
BACKEND_URL="https://backend.vidninja.pro"

# Cloudflare Worker URL (no trailing slash)
# Used for CDN/proxy functionality by Stream-Guard-API
# Deploy the worker from /worker directory
VITE_CDN_URL="https://cdn-cloudclash.rev9dev.workers.dev"

# CORS Proxy URL (optional, no trailing slash)
# Used for bypassing CORS restrictions
VITE_CORS_PROXY_URL="https://your-cors-proxy.workers.dev"

# M3U8 Proxy URL (optional, no trailing slash)
# Used for proxying HLS streams
VITE_M3U8_PROXY_URL="https://your-m3u8-proxy.workers.dev"

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------
# App domain (no trailing slash)
# Local development: http://localhost:5173
# Production: https://your-domain.com
APP_DOMAIN="http://localhost:5173"

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
# Enable/disable premium subscription features
# Set to "false" until payment processor is integrated
# Set to "true" to enable premium features
ENABLE_PREMIUM="false"

# Enable/disable OpenSearch functionality
# Set to "true" to enable search features
OPENSEARCH_ENABLED="false"

# ============================================================================
# Security Best Practices
# ============================================================================
# 1. NEVER commit .env to version control
#    - Add .env to .gitignore (already done)
#    - Only commit .env.example
#
# 2. Use different values for development and production
#    - Generate new JWT_SECRET for production
#    - Use production database for production environment
#
# 3. Rotate secrets regularly
#    - Change JWT_SECRET periodically
#    - Rotate API keys if compromised
#
# 4. Limit API key permissions
#    - Use read-only keys where possible
#    - Restrict API keys to specific domains
#
# 5. Use environment-specific values in Vercel
#    - Add all variables to Vercel Dashboard
#    - Use different values for Preview vs Production
# ============================================================================

# ============================================================================
# Deployment Checklist (Vercel)
# ============================================================================
# Before deploying to production:
#
# 1. [ ] Add all environment variables to Vercel Dashboard
#        Settings → Environment Variables
#
# 2. [ ] Update APP_DOMAIN to your production domain
#        Example: https://cloudclash.vercel.app
#
# 3. [ ] Generate a new JWT_SECRET for production
#        Command: openssl rand -base64 32
#
# 4. [ ] Verify DATABASE_URL points to production database
#        Use Supabase production connection string
#
# 5. [ ] Test Turnstile keys work on your domain
#        Add your domain to Turnstile allowed domains
#
# 6. [ ] Verify all API keys are valid and active
#        Test TMDB, VidNinja, and proxy URLs
#
# 7. [ ] Set ENABLE_PREMIUM based on payment processor status
#        Keep "false" until payment integration is complete
#
# 8. [ ] Test /api/config endpoint returns correct values
#        Visit: https://your-domain.com/api/config
# ============================================================================
